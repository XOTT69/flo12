<!doctype html>
<html lang="uk">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Flo UA - –¢—Ä–µ–∫–µ—Ä —Ü–∏–∫–ª—É</title>
<link rel="manifest" href="manifest.json">
<style>body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%);padding:2rem;max-width:500px;margin:auto;color:#333}body::before{content:'';position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 20% 80%,#ff9a9e 0%,transparent 50%),radial-gradient(circle at 80% 20%,#a8edea 0%,transparent 50%);z-index:-1}h1{font-size:2rem;text-align:center;background:linear-gradient(45deg,#ff6b6b,#feca57);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:2rem}form{background:#fff;border-radius:20px;padding:2rem;box-shadow:0 20px 40px rgba(0,0,0,0.1)}fieldset{border:none;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);border-radius:15px;padding:1.5rem;color:#fff;margin:1rem 0}label{display:block;margin:1rem 0 0.5rem;font-weight:600}input{width:100%;padding:1rem;border:2px solid #ddd;border-radius:12px;font-size:1.1rem;box-sizing:border-box;background:#f8f9ff}input:focus{outline:none;border-color:#ff6b6b;box-shadow:0 0 0 3px rgba(255,107,107,0.1)}button{width:100%;padding:1.2rem;background:linear-gradient(45deg,#ff6b6b,#ff8e8e);color:white;border:none;border-radius:15px;font-size:1.2rem;font-weight:600;cursor:pointer;transition:all 0.3s}button:hover{background:linear-gradient(45deg,#ff5252,#ff8e53);transform:translateY(-2px)}#past-periods{background:#fff;border-radius:15px;padding:1rem;margin:1rem 0;box-shadow:0 10px 20px rgba(0,0,0,0.1)}#past-periods>div{padding:0.8rem;border-bottom:1px solid #eee}#past-periods button{float:right;background:#ff6b6b;border:none;color:white;border-radius:8px;padding:0.3rem 0.6rem;font-size:0.9rem;cursor:pointer}span#prediction{font-size:1.5rem;font-weight:bold;color:#ff6b6b}</style>
</head>
<body>
<h1>üè• Flo UA –¢—Ä–µ–∫–µ—Ä</h1>
<form id="new-period">
<fieldset><legend>üìä –ù–æ–≤–∞ –º–µ–Ω—Å—Ç—Ä—É–∞—Ü—ñ—è</legend>
<label>–°—Ç–∞—Ä—Ç üíî:</label><input type="date" id="start-date" required>
<label>–ö—ñ–Ω–µ—Ü—å üòå:</label><input type="date" id="end-date" required>
</fieldset>
<button type="submit">–ó–±–µ—Ä–µ–≥—Ç–∏ —Ç–∞ —Å–ø—Ä–æ–≥–Ω–æ–∑—É–≤–∞—Ç–∏ üîÆ</button>
</form>
<section id="past-periods"></section>
<p><strong>–ù–∞—Å—Ç—É–ø–Ω–∞ –º–µ–Ω—Å—Ç—Ä—É–∞—Ü—ñ—è:</strong> <span id="prediction">‚Äî</span></p>
<script>
let periods=JSON.parse(localStorage.getItem('flo-periods'))||[];
function savePeriods(){localStorage.setItem('flo-periods',JSON.stringify(periods));}
function addPeriod(e){e.preventDefault();let s=new Date(document.getElementById('start-date').value),f=new Date(document.getElementById('end-date').value);if(s>f)return alert('–°—Ç–∞—Ä—Ç > –ö—ñ–Ω–µ—Ü—å?');periods.push({start:s,end:f});savePeriods();render();document.getElementById('new-period').reset();}
function predict(){if(periods.length<2){document.getElementById('prediction').textContent='–î–æ–¥–∞–π 2+ —Ü–∏–∫–ª–∏';return;}let last=periods[periods.length-1];let cycleAvg=28*86400000;let next=new Date(last.start.getTime()+cycleAvg);document.getElementById('prediction').textContent=next.toLocaleDateString('uk-UA',{weekday:'long',year:'numeric',month:'long',day:'numeric'});}
function render(){let past=document.getElementById('past-periods');if(!periods.length){past.innerHTML='<div style="text-align:center;color:#999;padding:2rem">–î–æ–¥–∞–π –º–µ–Ω—Å—Ç—Ä—É–∞—Ü—ñ—é –¥–ª—è —ñ—Å—Ç–æ—Ä—ñ—ó —Ç–∞ –ø—Ä–æ–≥–Ω–æ–∑—ñ–≤ üíï</div>';predict();return;}past.innerHTML=periods.map((p,i)=>`<div><span>${p.start.toLocaleDateString('uk-UA',{weekday:'short',day:'numeric',month:'short'})} ‚Äì ${p.end.toLocaleDateString('uk-UA',{day:'numeric',month:'short'})}</span><button onclick="periods.splice(${i},1);savePeriods();render();">–í–∏–¥–∞–ª–∏—Ç–∏ ‚ùå</button></div>`).join('');predict();}
document.getElementById('new-period').addEventListener('submit',addPeriod);render();
if('serviceWorker' in navigator)navigator.serviceWorker.register('sw.js');
</script>
</body>
</html>
